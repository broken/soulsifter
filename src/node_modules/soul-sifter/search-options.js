import { css, html, LitElement } from "@polymer/lit-element";

import "@polymer/paper-toggle-button/paper-toggle-button.js";


class SearchOptions extends LitElement {
  render() {
    return html`
      <section>
        <paper-toggle-button id="bpmRestrict" @checked-changed="${this.checkedChanged}"></paper-toggle-button>
        <span>BPM restrict</span>
        <paper-toggle-button id="keyRestrict" @checked-changed="${this.checkedChanged}"></paper-toggle-button>
        <span>Key restrict</span>
        <paper-toggle-button id="trashedRestrict" @checked-changed="${this.checkedChanged}"></paper-toggle-button>
        <span>Trashed restrict</span>
        <paper-toggle-button id="repeatRestrict" @checked-changed="${this.checkedChanged}"></paper-toggle-button>
        <span>Repeat restrict</span>
      <section>
    `;
  }

  checkedChanged(e) {
    let event = new CustomEvent('search-options-changed', { detail: {
        bpmRestrict: this.shadowRoot.getElementById('bpmRestrict').checked,
        keyRestrict: this.shadowRoot.getElementById('keyRestrict').checked,
        trashedRestrict: this.shadowRoot.getElementById('trashedRestrict').checked,
        repeatRestrict: this.shadowRoot.getElementById('repeatRestrict').checked,
    }});
    window.dispatchEvent(event);
  }

  static get styles() {
    return [
      css`
        :host {
          display: flex;
          flex-direction: column;
          white-space: nowrap;
        }
        section {
          display: flex;
          flex-direction: row;
        }
        paper-toggle-button {
          padding-top: 3px;
          margin-left: 15px;
        }
        span {
          padding-left: 10px;
          margin-right: 15px;
        }
      `
    ];
  }
}

window.customElements.define('search-options', SearchOptions);
